<!DOCTYPE html>
<html>

<head>
  <title>Kitchen Kompanian</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="../bootstrap/bootstrap.bundle.min.js"></script>
  <script src="./script.js"></script>
  <link href="../bootstrap/bootstrap.min.css" rel="stylesheet">
  <link href="../styles.css" rel="stylesheet">
  <link href="./recipe.css" rel="stylesheet">
</head>

<body>
  <!-- Top Nav Bar -->
  <div id="recipe-page" class="main-page">
    <nav class="navbar bg-light fixed-top heading">
      <div class="container-fluid">
        <a href="../recipe.html">
          <button class="back-btn">
            ❮
          </button>
        </a>  
        <!-- Updates navbar to say the item name -->
        <h1>Apple Pie</h1>
        <button class="fav-btn" id="pie-fav" onclick="favorite('pie-fav')">❤</button> 
      </div>
    </nav>
  </div>

  <!-- Body -->
<br>
  <div class="recipe-body">
    <div class="recipe-info" id="info">
      <img src="../static/apple_pie_wide.jpg" class="rounded border-3 img-thumbnail" alt="apple pie recipe">
      <br>
      <div class="recipe-details border border-2 mt-2">
        <b>Servings: </b>8
        <br>
        <b>Prep Time: </b>30 mins
        <br>
        <b>Cook Time: </b>50 mins
        <br>
        <b>Cook Level: </b>Intermediate
        <br>
      </div>
    </div>

    <div class="recipe-ingredients" id="ingredients">
      <h1>Ingredients</h1>
      <table id="ingredients-list">
        <tr>
          <td class="plus">
            <button id="row1-plus" onclick="addToLocalStorage('row1')" class="plus-btn btn btn-sm input-group-append">
              <img src="../static/shopping-cart.png" height="20px" width="20px">
            </button>
          </td>
          <td class="check">
            <input type="checkbox" class="check" id="row1" onchange="todoChecked('row1')">
          </td>
          <td id="row1-text">6 tablespoons unsalted butter</td>
        </tr>

        <tr>
          <td class="plus">
            <button id="row2-plus" onclick="addToLocalStorage('row2')" class="plus-btn btn btn-sm input-group-append">
              <img src="../static/shopping-cart.png" height="20px" width="20px">
            </button>
          </td> 
          <td class="check">
            <input type="checkbox" class="check" id="row2" onchange="todoChecked('row2')">
          </td>
          <td id="row2-text">¼ cup white sugar</td>
        </tr>

        <tr>
          <td class="plus">
            <button id="row3-plus" onclick="addToLocalStorage('row3')" class="btn btn-sm input-group-append">
              <img src="../static/shopping-cart.png" height="20px" width="20px">
            </button>
          </td>
          <td class="check">
            <input type="checkbox" class="check" id="row3" onchange="todoChecked('row3')">
          </td>
          <td id="row3-text">½ cup brown sugar</td>
        </tr>

        <tr>
          <td class="plus">
            <button id="row4-plus" onclick="addToLocalStorage('row4')" class="btn btn-sm input-group-append">
              <img src="../static/shopping-cart.png" height="20px" width="20px">
            </button>
          </td>
          <td class="check">
            <input type="checkbox" class="check" id="row4" onchange="todoChecked('row4')">
          </td>
          <td id="row4-text">1 pinch salt</td>
        </tr>

        <tr>
          <td class="plus">
            <button id="row5-plus" onclick="addToLocalStorage('row5')" class="btn btn-sm input-group-append">
              <img src="../static/shopping-cart.png" height="20px" width="20px">
            </button>
          </td>          
          <td class="check">
            <input type="checkbox" class="check" id="row5" onchange="todoChecked('row5')">
          </td>
          <td id="row5-text">¼ teaspoon ground cinnamon</td>
        </tr>

        <tr>
          <td class="plus">
            <button id="row6-plus" onclick="addToLocalStorage('row6')" class="btn btn-sm input-group-append">
              <img src="../static/shopping-cart.png" height="20px" width="20px">
            </button>
          </td>          
          <td class="check">
            <input type="checkbox" class="check" id="row6" onchange="todoChecked('row6')">
          </td>
          <td id="row6-text">¼ cup water</td>
        </tr>

        <tr>
          <td class="plus">
            <button id="row7-plus" onclick="addToLocalStorage('row7')" class="btn btn-sm input-group-append">
              <img src="../static/shopping-cart.png" height="20px" width="20px">
            </button>
          </td>          
          <td class="check">
            <input type="checkbox" class="check" id="row7" onchange="todoChecked('row7')">
          </td>
          <td id="row7-text">1 (15 ounce) package double crust ready-to-use pie crust (such as Pillsbury®)</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>
            <p style="color: red">This ingrdedient is not gluten free!</p>
          </td>
        </tr>


        <tr>
          <td class="plus">
            <button id="row8-plus" onclick="addToLocalStorage('row8')" class="btn btn-sm input-group-append">
              <img src="../static/shopping-cart.png" height="20px" width="20px">
            </button>
          </td>          
          <td class="check">
            <input type="checkbox" class="check" id="row8" onchange="todoChecked('row8')">
          </td>
          <td id="row8-text">4 large red apples, cored and thinly sliced</td>
        </tr>

      </table>
    </div>

    <div class="recipe-steps" id="directions">
      <h1>Directions</h1>
      <table class="directions-list">
        <tr>
          <td id="step-1" onclick="crossOut('step-1')"> <b>1.</b> Preheat oven to 425 degrees F (220 degrees C). </td>
        </tr>
        
        <tr>
          <td id="step-2" onclick="crossOut('step-2')"> <b>2.</b> Melt butter in saucepan over medium heat. Stir in white sugar, brown sugar, salt, cinnamon, and water. Bring the syrup to a boil, stirring constantly to dissolve sugar, then remove from heat. </td>
        </tr>

        <tr>
          <td id="step-3" onclick="crossOut('step-3')"> <b>3.</b> Unroll pie crusts, press one into a 9-inch pie dish, and place the apples into the crust. Unroll the second crust on a work surface, and cut into about 8 1-inch wide strips. Criss-cross the strips over the apples, or weave into a lattice crust. Crimp the bottom crust over the lattice strips with your fingers. Spoon caramel sauce over pie, covering lattice portion of top crust; let remaining sauce drizzle through the crust.  </td>
        </tr>

        <tr>
          <td id="step-4" onclick="crossOut('step-4')"> <b>4.</b> Bake in preheated oven for 15 minutes. Reduce heat to 350 degrees F (175 degrees C), and bake until the crust is golden brown, the caramel on the top crust is set, and the apple filling is bubbling, 35 to 40 more minutes. Allow to cool completely before slicing.  </td>
        </tr>
      </table>
    </div>

    <div class="recipe-notes">
      <h1>Notes</h1>
      <div class="recipe-search-bar input-group mb-2">
        <input type="text" class="form-control recipe-searchbar" id="notes-input" placeholder="Use more sugar...">
        <button id="add" class="input-group-text search-button btn btn-outline-success" onclick="addNote('pie')">
          +
        </button>
      </div>

      <ul class="notes-list list-group">
      </ul>

    </div>
    <br>

    <div class="recipe-floating-bottom">
      <b>Jump to: </b>
      <button type="button" class="recipe-btm-buttons btn btn-secondary btn-sm"><a href="#info">Info</a></button>
      <button type="button" class="recipe-btm-buttons btn btn-secondary btn-sm"><a href="#ingredients">Ingredients</a></button>
      <button type="button" class="recipe-btm-buttons btn btn-secondary btn-sm"><a href="#directions">Directions</a></button>
    </div>

    <br>
    <br>
    <br>
    <br>
  </div>

  <!-- Bottom Nav Bar -->
  <nav class="main-nav">
    <a class="nav-item" href="../inventory.html">
      <img class="nav-icon" src="..\static\icons\refrigerator.svg">
      <div class="nav-label">Inventory</div>
    </a>
    <a class="nav-item" href="../shopping.html">
      <img class="nav-icon" src="..\static\icons\listcheck.svg">
      <div class="nav-label">Shopping</div>
    </a>
    <a class="nav-item active" href="../recipe.html">
      <img class="nav-icon" src="..\static\icons\book-active.svg">
      <div class="nav-label">Recipes</div>
    </a>
    <a class="nav-item" href="..\profile.html">
      <img class="nav-icon" src="..\static\icons\user.svg">
      <div class="nav-label">Profile</div>
    </a>
  </nav>
  <div id="fake-keyboard" class="sticky-bottom" style="display: none;">
    <img src="../static/on-screen-keyboard-light.jpg" alt="" width="100%;" height="100%;">
  </div>

</body>

<script>
  
if (window.localStorage['notes-pie'] != null){
    var prevNotes = window.localStorage['notes-pie'].split(";")
    for (var i of prevNotes){
        console.log(i)
        if (i != ""){
          addNote('pie',i, false)
        }
      }
}


if (window.localStorage['pie-fav'] == null || window.localStorage['pie-fav'] == 'false'){
  window.localStorage['pie-fav'] = 'false' 
} else {
  var btn = document.getElementById('pie-fav')
  btn.classList.add('fav-btn-selected')
}

const other = document.getElementById("notes-input");
console.log(other)
if (other != null){
    other.addEventListener("focusin", function() {
        document.getElementById("fake-keyboard").style.display = "block";
        window.scrollBy(0, 150);
    }); 
    other.addEventListener("focusout", function() {
        document.getElementById("fake-keyboard").style.display = "none";
    }); 
}

</script>

</html>